<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="737" release="BETA" version="2.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">
    
    <fileheader>
        <author> Dave Culp </author>
        <author> Aeromatic </author>
        <filecreationdate> 2006-01-04 </filecreationdate>
        <version>$Revison: 1.0 $</version>
        <description> Models a 737. </description>
    </fileheader>

    <metrics>
        <wingarea unit="FT2">  980.00 </wingarea> <!-- boeing value for all calculations-->
        <wingspan unit="FT">    94.75 </wingspan>
        <chord unit="IN">      134.46 </chord>
        <htailarea unit="FT2"> 338.00 </htailarea>
        <htailarm unit="IN">   528.535</htailarm> <!-- calculated from AMM (between 25% wing MAC and 25% stab chord) -->
        <vtailarea unit="FT2"> 224.35 </vtailarea>
        <vtailarm unit="FT">    44.50 </vtailarm>
        <location name="AERORP" unit="IN"> <!-- placed at 0% MAC (shifted in aerodynamic section) -->
            <x> 575.6 </x> <!-- BODY STA 625.6 -->
            <y>   0 </y>
            <z>  -5 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x>  80 </x>
            <y> -30 </y>
            <z>  70 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2">    320000 </ixx>
        <iyy unit="SLUG*FT2">   1450000 </iyy>
        <izz unit="SLUG*FT2">   1670000 </izz>
        <ixy unit="SLUG*FT2">         0 </ixy>
        <ixz unit="SLUG*FT2">     50000 </ixz>
        <iyz unit="SLUG*FT2">         0 </iyz>
        <emptywt unit="LBS">      76135 </emptywt> <!-- Based on real aircraft data. 2 pilots and 5 cabin crew -->
        <location name="CG" unit="IN">
            <x> 598.351 </x> <!-- From real trimsheet -->
            <y>   0 </y>
            <z>  -5 </z>
        </location>
    
    
    <pointmass name="Reserved 1">
            <weight unit="LBS"> 0.0 </weight>
            <location name="POINTMASS" unit="IN">
            <x> 598.351 </x>
            <y>   0 </y>
            <z> -40 </z>
            </location>
        </pointmass>
        <pointmass name="Reserved 2">
            <weight unit="LBS"> 0.0 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 598.351 </x>
                <y> 0 </y>
                <z> -40 </z>
            </location>
        </pointmass>

	 <pointmass name="Cabin Zone 0a"> <!-- Business class -->
            <weight unit="LBS"> 1324 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 299.95 </x>
                <y> 0 </y>
                <z> 27.5 </z>
            </location>
        </pointmass>
	<pointmass name="Cabin Zone 0b"> <!-- Tourist class -->
            <weight unit="LBS"> 6951 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 473.235 </x>
                <y> 0 </y>
                <z> 27.5 </z>
            </location>
        </pointmass>
	<pointmass name="Cabin Zone 0c"> <!-- Economy class -->
            <weight unit="LBS"> 11916 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 778.95 </x>
                <y> 0 </y>
               <z> 27.5 </z>
            </location>
        </pointmass>
	<pointmass name="Reserved 3">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 790 </x>
                <y> 0 </y>
                <z> 27.5 </z>
            </location>
        </pointmass>
	<pointmass name="Reserved 4">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 975 </x>
                <y> 0 </y>
                <z> 27.5 </z>
            </location>
        </pointmass>
<!--cargo compartment!-->
	 <pointmass name="Cargo1">
            <weight unit="LBS"> 763 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 256 </x>
                <y> 0 </y>
                <z> -27.7 </z>
            </location>
        </pointmass>
	<pointmass name="Cargo2">
            <weight unit="LBS"> 388 </weight>
            <location name="POINTMASS" unit="IN">
              <x>340 </x>
                <y> 0 </y>
                <z> -27.7 </z>
            </location>
        </pointmass>
	<pointmass name="Cargo3">
            <weight unit="LBS"> 1131 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 424 </x>
                <y> 0 </y>
                <z> -27.7 </z>
            </location>
        </pointmass>
	<pointmass name="Cargo4">
            <weight unit="LBS"> 2337 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 748 </x>
                <y> 0 </y>
                <z> -27.7 </z>
            </location>
        </pointmass>
	<pointmass name="Cargo5">
            <weight unit="LBS"> 212 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 852 </x>
                <y> 0 </y>
                <z> -27.7 </z>
            </location>
        </pointmass>
	<pointmass name="Cargo6">
            <weight unit="LBS"> 359 </weight>
            <location name="POINTMASS" unit="IN">
              <x> 956 </x>
                <y> 0 </y>
                <z> -23.2 </z>
            </location>
        </pointmass>
	
</mass_balance>


    <ground_reactions>
        <contact name="Nose Gear" type="BOGEY">
            <location unit="IN">
                <x> 158 </x>
                <y>   0 </y>
                  <z> -97.6 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT">240000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side>120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 78 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact name="Left Main Gear" type="BOGEY">
            <location unit="IN">
                <x>  648 </x>
                <y> -100 </y>
              <z>  -108.6 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact name="Right Main Gear" type="BOGEY">
            <location unit="IN">
                <x> 648 </x>
                <y> 100 </y>
                <z>  -108.6 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
	
<contact name="fuselage_belly" type="STRUCTURE">
            <location unit="IN">
                <x> 240 </x>
                <y> 0 </y>
                <z> -64.92 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.50 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>	

<contact name="fuselage_nose" type="STRUCTURE">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.50 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>	
	
	<contact name="fuselage_tail1" type="STRUCTURE">
            <location unit="IN">
                <x> 885.32 </x>
                <y> 0 </y>
                <z> -57.28 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.50 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>	
<contact name="fuselage_tail1" type="STRUCTURE">
            <location unit="IN">
                <x> 1274.8 </x>
                <y> 0 </y>
                <z>48 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.50 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>	
<contact name="left wing tip" type="STRUCTURE">
            <location unit="IN">
                <x>801 </x>
                <y> 572 </y>
                <z> 19.5 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.50 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
<contact name="right wing tip" type="STRUCTURE">
            <location unit="IN">
                <x>801 </x>
                <y>-572 </y>
                <z> 19.5 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.50 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            <relaxation_velocity>
              <rolling unit="FT/SEC">0.7</rolling>
              <side unit="FT/SEC">0.7</side>
            </relaxation_velocity>
            <force_lag_filter>
              <rolling> 120.0 </rolling>
              <side> 120.0 </side>
            </force_lag_filter>
            <wheel_slip_filter> 120.0 </wheel_slip_filter>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>	
    </ground_reactions>


    <propulsion>
        <engine file="CFM56">
            <location unit="IN">
                <x>  540 </x>
                <y> -193 </y>
                <z>  -54 </z>
            </location>
            <orient unit="DEG">
                <roll>  0 </roll>
                <pitch> -5 </pitch>
                <yaw>   0 </yaw>
            </orient>
            <feed>3</feed> <!-- Feed from pipe -->
            <thruster file="direct">
                <location unit="IN">
                    <x>  540 </x>
                    <y> -193 </y>
                    <z>  -54 </z>
                </location>
                <orient unit="DEG">
                    <roll>  0 </roll>
                    <pitch> 0 </pitch>
                    <yaw>   1.8 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="CFM56">
            <location unit="IN">
                <x> 540 </x>
                <y> 193 </y>
                <z> -54 </z>
            </location>
            <orient unit="DEG">
                <roll>  0 </roll>
                <pitch> -5 </pitch>
                <yaw>   0 </yaw>
            </orient>
            <feed>4</feed> <!-- Feed from pipe -->
            <thruster file="direct">
                <location unit="IN">
                    <x> 540 </x>
                    <y> 193 </y>
                    <z> -54 </z>
                </location>
                <orient unit="DEG">
                    <roll>  0 </roll>
                    <pitch> 0 </pitch>
                    <yaw>  -1.8 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="garret_85-129E">
            <location unit="IN">
                <x> 1000 </x>
                <y>   0 </y>
                <z>  54 </z>
            </location>
            <orient unit="DEG">
                <roll>  0 </roll>
                <pitch> 0 </pitch>
                <yaw>   0 </yaw>
            </orient>
            <feed>3</feed> <!-- Feed from pipe -->
            <thruster file="direct">
                <location unit="IN">
                    <x> 1000 </x>
                    <y> 0 </y>
                    <z> 54 </z>
                </location>
                <orient unit="DEG">
                    <roll>  0 </roll>
                    <pitch> 0 </pitch>
                    <yaw>   0 </yaw>
                </orient>
            </thruster>
        </engine>


        <tank type="FUEL"><!-- Left wing tank -->
            <location unit="IN">
                <x> 599.61</x>
                <y> -130 </y>
                <z> 20 </z>
            </location>
            <drain_location unit="IN">
                <x> 547.4138</x>
                <y> -80 </y>
                <z> -7 </z>
            </drain_location>
            <capacity unit="LBS"> 10043 </capacity>
            <contents unit="LBS"> 10043 </contents>
            <temperature> 40 </temperature> <!-- Fuel temp in degrees F -->
        </tank>
        <tank type="FUEL"><!-- Right wing tank -->
            <location unit="IN">
                <x> 599.61 </x>
                <y>  130 </y>
                <z> 20 </z>
            </location>
            <drain_location unit="IN">
                <x> 547.4138</x>
                <y> 80 </y>
                <z> -7 </z>
            </drain_location>
            <capacity unit="LBS"> 10043 </capacity>
            <contents unit="LBS"> 10043 </contents>
        </tank>
        <tank type="FUEL"><!-- Center tank -->
            <location unit="IN">
                <x> 553.2137 </x>
                <y>   0 </y>
                <z> -18 </z>
            </location>
            <capacity unit="LBS"> 15497 </capacity>
            <contents unit="LBS"> 2700 </contents>
        </tank>
        <tank type="FUEL"><!-- Feed pipe for left engine -->
            <location unit="IN">
                <x> 540 </x>
                <y>-193 </y>
                <z> -40 </z>
            </location>
            <capacity unit="LBS"> 0.5 </capacity>
            <contents unit="LBS"> 0.25 </contents>
        </tank>
        <tank type="FUEL"><!-- Feed pipe for right engine -->
            <location unit="IN">
                <x> 540 </x>
                <y> 193 </y>
                <z> -40 </z>
            </location>
            <capacity unit="LBS"> 0.5 </capacity>
            <contents unit="LBS"> 0.25 </contents>
        </tank>
    </propulsion>
    
   <system file="pushback"/>
   <system file="steering"/>
   <system file="fuel"/>

    <flight_control name="FCS: 737">



        <channel name="Pitch">

          <fcs_function name="fcs/elevator-stab-shift">
            <function>
		<table>
		<independentVar>fcs/stabilizer-pos-unit</independentVar>
		<tableData>
			0	0.2591
			1	0.2332
			2	0.2077
			3	0.1818
			4	0.1559
			5	0.13
			6	0.1041
			7	0.0782
			8	0.0523
			9	0.0264
			10	0
			11	-0.029
			12	-0.0575
			13	-0.0865
			14	-0.1155
			15	-0.1445
			16	-0.1735
			17	-0.2025
		</tableData>
		</table>
            </function>
          </fcs_function>

          <fcs_function name="Pitch Trim Sum">
            <function>
              <sum>
                <property>fcs/elevator-cmd-norm</property>
                <product>
                  <property>fcs/elevator-stab-shift</property>
                  <difference>
                    <value>1</value>
                    <abs><property>fcs/elevator-cmd-norm</property></abs>
                  </difference>
                </product>
              </sum>
            </function>
          </fcs_function>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.384</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator Normalized">
                <input>fcs/elevator-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.384</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Roll">

            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.25</min>
                    <max> 0.25</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.25</min>
                    <max> 0.25</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left aileron Normalized">
                <input>fcs/left-aileron-pos-rad</input>
                <domain>
                    <min>-0.25</min>
                    <max> 0.25</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right aileron Normalized">
                <input>fcs/right-aileron-pos-rad</input>
                <domain>
                    <min>-0.25</min>
                    <max> 0.25</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Yaw">

            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

	<!--Yaw damper-->        
        <washout_filter name="Yaw Damper WF">
          <input>velocities/r-aero-rad_sec</input>
          <c1>0.4</c1>
        </washout_filter>
        
        <pure_gain name="Yaw Damper">
          <input>fcs/yaw-damper-wf</input>
          <gain>4</gain>
          <clipto>
            <min>-0.12</min>
            <max>0.12</max>
          </clipto>
        </pure_gain>

          <switch name="Yaw Damper Final">
            <default value="0"/>
            <test value="fcs/yaw-damper">
              /b733/controls/flight/yaw-damper == 1
            </test>
          </switch>

            <summer name="Rudder Sum Cmd">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-damper-final</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <kinematic name="Rudder Sum Kinematic">
                <input>fcs/rudder-sum-cmd</input>
                <traverse>
                    <setting>
                        <position>-1</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.757575</time> <!-- from NTSB report flight UAL585. Rate is 66 deg/sec -->
                    </setting>
                </traverse>
                <output>fcs/rudder-sum</output>
            </kinematic>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-0.436</min>
                    <max> 0.436</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder Normalized">
                <input>fcs/rudder-pos-rad</input>
                <domain>
                    <min>-0.436</min>
                    <max> 0.436</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>

        </channel>

        <channel name="Flaps">

          <switch name="fcs/flap-lrs">
            <default value="fcs/flap-lrs"/>
            <test value="1">
              fcs/flap-cmd-norm == 1
              fcs/flap-lrs == 0
              velocities/vc-kts GE 158
            </test>
            <test value="0">
              fcs/flap-cmd-norm == 1
              fcs/flap-lrs == 1
              velocities/vc-kts LE 153
            </test>
            <test value="0">
              fcs/flap-cmd-norm LT 1
            </test>
          </switch>

          <switch name="fcs/flap-cmd-norm-lrs">
            <default value="fcs/flap-cmd-norm"/>
            <test value="0.750">
              fcs/flap-lrs == 1
            </test>
          </switch>

            <kinematic name="Flaps Control"> <!-- absolutely real times from real 737-300 data-->
                <input>fcs/flap-cmd-norm-lrs</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>0.025</position>
                        <time>5.7</time>
                    </setting>
                    <setting>
                        <position>0.050</position>
                        <time>12.4</time>
                    </setting>
                    <setting>
                        <position>0.125</position>
                        <time>5.7</time>
                    </setting>
                    <setting>
                        <position>0.25</position>
                        <time>5.5</time>
                    </setting>
                    <setting>
                        <position>0.375</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>0.625</position>
                        <time>1.5</time>
                    </setting>
                    <setting>
                        <position>0.750</position>
                        <time>2.4</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>3.3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-norm</output>
            </kinematic>

        </channel>
        <channel name="Landing Gear">

            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>

        </channel>
        <channel name="Flight Spoilers">
          <!-- operated by the speedbrake handle and roll control -->
            <kinematic name="Flight Spoilers Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.6</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>

        </channel>
        <channel name="Ground Spoilers">
          <!-- these only operate on the ground -->
            <kinematic name="Ground Spoilers Control">
                <input>fcs/spoiler-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.6</time>
                    </setting>
                </traverse>
                <output>fcs/spoiler-pos-norm</output>
            </kinematic>

        </channel>

        <channel name="Stabilizer">
          
          <pure_gain name="fcs/stabilizer/trim-rate-per-tick">
            <input>fcs/stabilizer/trim-rate</input>
            <gain>0.0083333333333333</gain>
          </pure_gain>

          <summer name="fcs/stabilizer/errorfree-stab-error">
            <input> fcs/stabilizer/stab-target </input>
            <input>-fcs/stabilizer-pos-unit </input>
            <clipto>
              <min>-fcs/stabilizer/trim-rate-per-tick</min>
              <max> fcs/stabilizer/trim-rate-per-tick</max>
            </clipto>
            <output>fcs/stabilizer/stab-error</output>
          </summer>

          <summer name="fcs/stabilizer/stabilizer-pos-unit">
            <input> fcs/stabilizer-pos-unit </input>
            <input> fcs/stabilizer/stab-error </input>
            <output>fcs/stabilizer-pos-unit</output>
          </summer>

        </channel>

        <channel name="Autobrake">

          <switch name="fcs/autobrake/errorfree-target-decel-fps_sec2-filtered">
            <default value="fcs/autobrake/target-decel-fps_sec2"/>
            <test value="12">
              velocities/u-fps LE 134
              fcs/autobrake/target-decel-fps_sec2 == 14
            </test>
            <output>fcs/autobrake/target-decel-fps_sec2-filtered</output>
          </switch>

          <summer name="fcs/autobrake/time-work">
            <input> sim-time-sec </input>
            <input>-fcs/autobrake/start-time-sec </input>
          </summer>

          <pure_gain name="fcs/autobrake/target-decel-15sec">
            <input>fcs/autobrake/time-work</input>
            <gain>2</gain>
          </pure_gain>

          <fcs_function name="fcs/autobrake/target-decel-25sec">
            <function>
              <sum>
                <product>
                  <property>fcs/autobrake/time-work</property>
                  <sum>
                    <property>fcs/autobrake/target-decel-fps_sec2-filtered</property>
                    <value>-3</value>
                  </sum>
                </product>
                <sum>
                  <value>3</value>
                  <product>
                    <sum>
                      <property>fcs/autobrake/target-decel-fps_sec2-filtered</property>
                      <value>-3</value>
                    </sum>
                    <value>-1.5</value>
                  </product>
                </sum>
              </sum>
            </function>
          </fcs_function>

          <switch name="fcs/autobrake/errorfree-target-decel-fps_sec2-final">
            <default value="fcs/autobrake/target-decel-fps_sec2-filtered"/>
            <test value="25">
              fcs/autobrake/target-decel-fps_sec2-filtered == 25
            </test>
            <test value="fcs/autobrake/target-decel-15sec">
              fcs/autobrake/time-work LE 1.5
            </test>
            <test value="fcs/autobrake/target-decel-25sec">
              fcs/autobrake/time-work LE 2.5
              fcs/autobrake/time-work GT 1.5
            </test>
            <output>fcs/autobrake/target-decel-fps_sec2-final</output>
          </switch>

          <summer name="fcs/autobrake/decel-error">
            <input> fcs/autobrake/target-decel-fps_sec2-final </input>
            <input> accelerations/udot-ft_sec2 </input>
          </summer>

          <pure_gain>
            <input>fcs/autobrake/decel-error</input>
            <gain>0.01</gain>
            <output>fcs/autobrake/brake-cmd-gain</output>
          </pure_gain>

          <summer name="fcs/autobrake/errorfree-autobrake-cmd">
            <input> fcs/autobrake/autobrake-cmd </input>
            <input> fcs/autobrake/brake-cmd-gain </input>
            <clipto>
             <min>0</min>
             <max>1</max>
            </clipto>
            <output>fcs/autobrake/autobrake-cmd</output>
          </summer>

          <switch name="fcs/autobrake/brake-left-cmd-final">
            <default value="fcs/brake-left-cmd"/>
            <test value="fcs/autobrake/autobrake-cmd">
              fcs/autobrake/autobrake-in-use == 1
            </test>
            <output>fcs/left-brake-cmd-norm</output>
          </switch>

          <switch name="fcs/autobrake/brake-right-cmd-final">
            <default value="fcs/brake-right-cmd"/>
            <test value="fcs/autobrake/autobrake-cmd">
              fcs/autobrake/autobrake-in-use == 1
            </test>
            <output>fcs/right-brake-cmd-norm</output>
          </switch>

        </channel>

        <channel name="Throttle">

          <summer name="fcs/throttle/after-landing-time">
            <input> sim-time-sec </input>
            <input>-/b733/sensors/landing-time </input>
          </summer>

          <switch name="fcs/throttle/high-idle">
            <default value="0.119"/>
            <test value="0">
              fcs/throttle/after-landing-time GT 4
              /gear/gear[0]/wow == 1
              /gear/gear[1]/wow == 1
              /gear/gear[2]/wow == 1
            </test>
          </switch>

             <fcs_function name="fcs/throttle/throttle-cmd-norm[0]">
                 <function>
                     <product>
                         <property>/autopilot/internal/servo-throttle[0]</property>
			 <value>1</value>
                     </product>
                 </function>
               <output>fcs/throttle-cmd-norm[0]</output>
             </fcs_function>

  <summer name="fcs/throttle/throttle-pos-norm[0]">
    <input>fcs/throttle/throttle-cmd-norm[0]</input>
      <clipto>
        <min>fcs/throttle/high-idle</min>
        <max>1</max>
      </clipto>
    <output>fcs/throttle-pos-norm[0]</output>
  </summer>

             <fcs_function name="fcs/throttle/throttle-cmd-norm[1]">
                 <function>
                     <product>
                         <property>/autopilot/internal/servo-throttle[1]</property>
			 <value>1</value>
                     </product>
                 </function>
               <output>fcs/throttle-cmd-norm[1]</output>
             </fcs_function>

  <summer name="fcs/throttle/throttle-pos-norm[1]">
    <input>fcs/throttle/throttle-cmd-norm[1]</input>
      <clipto>
        <min>fcs/throttle/high-idle</min>
        <max>1</max>
      </clipto>
    <output>fcs/throttle-pos-norm[1]</output>
  </summer>

        </channel>

  <channel name="APU">
    <!--Set throttle cmd - APU always throttle const-->
    <switch name="propulsion/engine[2]/thr">
      <default value="0.0"/>
      <test value="0.97">
        propulsion/engine[2]/n2 > 22.0
      </test>
      <output>fcs/throttle-pos-norm[2]</output>
    </switch>

  </channel>

  <channel name="Skidslip">

    <!-- Check for z accel not-zero -->
    <switch name="instrumentation/slip-skid-indicator/a-pilot-z-ft_sec2-not-zero">
      <default value="accelerations/a-pilot-z-ft_sec2"/>
      <test value="0.000001">
        accelerations/a-pilot-z-ft_sec2 == 0
      </test>
    </switch> 

    <fcs_function name="instrumentation/slip-skid-indicator/slip-skid-deg">
      <function>
        <product>
          <atan>
            <quotient>
              <property>accelerations/a-pilot-y-ft_sec2</property>
              <property>instrumentation/slip-skid-indicator/a-pilot-z-ft_sec2-not-zero</property>
            </quotient>
          </atan>
          <value>-57.2957795131</value>
        </product>
      </function>
    </fcs_function>

  </channel>

        <channel name="reverse-drag-left">
          <fcs_function name="aero/function/left-engine-reverse-drag">
                <function>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>/engines/engine[0]/reverser-pos-norm</property>
                  <table>
                      <independentVar>propulsion/engine[0]/n1</independentVar>
                      <tableData>
                          22	0.022
                          90	0.069
                      </tableData>
                  </table>
               </product>
                </function>
                <output> external_reactions/reverse-drag-left/magnitude </output>
            </fcs_function>
        </channel>

        <channel name="reverse-drag-right">
          <fcs_function name="aero/function/right-engine-reverse-drag">
                <function>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>/engines/engine[1]/reverser-pos-norm</property>
                  <table>
                      <independentVar>propulsion/engine[1]/n1</independentVar>
                      <tableData>
                          22	0.022
                          90	0.069
                      </tableData>
                  </table>
               </product>
                </function>
                <output> external_reactions/reverse-drag-right/magnitude </output>
            </fcs_function>
        </channel>

        <channel name="stabilizer-force">
          <fcs_function name="aero/function/stabilizer-force">
                <function>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <sum>
                      <product>
                        <property>fcs/stabilizer-pos-unit</property>
                        <value>0.030897</value>
                      </product>
                      <value>-0.092691</value>
                    </sum>
                </product>
                </function>
                <output> external_reactions/stabilizer-force/magnitude </output>
            </fcs_function>
        </channel>

        <channel name="elevator-force">
          <fcs_function name="aero/function/elevator-force">
                <function>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <product>
                      <property>fcs/elevator-pos-rad</property>
                      <value>57.2957795131</value>
                      <value>-0.01</value>
                    </product>
                </product>
                </function>
                <output> external_reactions/elevator-force/magnitude </output>
            </fcs_function>
        </channel>

    </flight_control>

       <external_reactions>
    
        <force name="reverse-drag-left" frame="BODY">
            <location unit="IN">
            <x>  540  </x>
            <y> -193 </y>
            <z>  -54 </z>
            </location>
            <direction>
            <x>   -1 </x>
            <y>    0 </y>
            <z>    0 </z>
            </direction>
        </force>

        <force name="reverse-drag-right" frame="BODY">
            <location unit="IN">
            <x>  540  </x>
            <y>  193 </y>
            <z>  -54 </z>
            </location>
            <direction>
            <x>   -1 </x>
            <y>    0 </y>
            <z>    0 </z>
            </direction>
        </force>

        <force name="stabilizer-force" frame="BODY">
            <location unit="IN">
            <x>  1137.75  </x>
            <y>  0 </y>
            <z>  54 </z>
            </location>
            <direction>
            <x>    0 </x>
            <y>    0 </y>
            <z>    1 </z>
            </direction>
        </force>

        <force name="elevator-force" frame="BODY">
            <location unit="IN">
            <x>  1137.75  </x>
            <y>  0 </y>
            <z>  54 </z>
            </location>
            <direction>
            <x>    0 </x>
            <y>    0 </y>
            <z>    1 </z>
            </direction>
        </force>

<force name="pushback" frame="BODY">
   <location unit="IN">
    <x>  158 </x>
    <y>    0.0 </y>
    <z>  -71.0 </z>
   </location>
   <direction>
    <x>1</x>
    <y>0</y>
    <z>0</z>
   </direction>
  </force>
    
    </external_reactions>

    <aerodynamics>

        <aero_ref_pt_shift_x>
          <function name="aero/function/aero-ref-shift">
            <value>0.25</value> <!-- 25% MAC = 609.215 in -->
          </function>
        </aero_ref_pt_shift_x>

        <function name="/instrumentation/fmc/cg">
            <description>MAC in percents</description>
            <product>
              <sum>
                <property>inertia/cg-x-in</property>
                <value>-575.6</value>
              </sum>
              <value>0.7434944</value>
            </product>
        </function>

        <function name="/instrumentation/fmc/stab-trim-units">
            <description>Stab position for take-off</description>
            <table>
                <independentVar lookup="row">/instrumentation/fmc/to-flap</independentVar>
                <independentVar lookup="column">/instrumentation/fmc/cg</independentVar>
                <tableData>
				6	10	14	18	22	26	30
			5	6.25	5.75	5.25	4.75	4.25	3.75	3
			15	5.75	5	4.5	3.75	3	2.5	1.75
                </tableData>
            </table>
        </function>

        <function name="/autopilot/settings/max-n1">
            <description>Maximum N1 for CLIMB</description>
            <table>
                <independentVar lookup="row">propulsion/tat-c</independentVar>
                <independentVar lookup="column">atmosphere/pressure-altitude</independentVar>
                <tableData>
				0	5000	10000	15000	20000	25000	30000	35000	37000
			-50	79.1	81	82.7	84.5	86.3	88.3	90.2	92.9	93.5
			-40	80.8	82.8	84.5	86.3	88.2	90.2	92.2	95	95.6
			-30	82.5	84.5	86.3	88.2	90.1	92.1	94.1	97	97.6
			-20	84.2	86.3	88.1	90	91.9	94	96	99	99.3
			-10	85.9	87.9	89.8	91.7	93.7	95.9	97.9	98.4	98.4
			0	87.5	89.6	91.5	93.4	95.5	97.2	97.5	97.5	97.5
			10	89.1	91.2	93.1	95.1	96.1	96.4	96.6	96.6	96.6
			20	90.6	92.8	94.3	95	95.4	95.6	95.7	96.6	96.6
			30	92.2	93.2	93.5	94.2	94.6	94.7	95.7	96.6	96.6
			40	92	92.2	93.6	93.3	93.6	94.7	95.7	96.6	96.6
			50	90.9	91.1	92.5	93.3	93.6	94.7	95.7	96.6	96.6
                </tableData>
            </table>
        </function>

        <function name="/autopilot/settings/to-n1">
            <description>Maximum N1 for TAKEOFF</description>
            <table>
                <independentVar lookup="row">/environment/temperature-degc</independentVar>
                <independentVar lookup="column">atmosphere/pressure-altitude</independentVar>
                <tableData>
				-1000	0	1000	2000	3000	4000	5000	6000	7000	8000
			-50	81.7	82.5	82.9	83.2	83.7	84.3	84.7	85.2	85.6	86
			-40	83.5	84.3	84.7	85.1	85.5	86.2	86.6	87.1	87.4	87.9
			-30	85.2	86	86.5	86.9	87.3	88	88.4	88.9	89.3	89.7
			-20	87	87.8	88.3	88.7	89.1	89.8	90.2	90.7	91.1	91.6
			-10	88.7	89.6	90	90.4	90.8	91.5	92	92.5	92.9	93.4
			0	90.3	91.2	91.7	92.1	92.6	93.3	93.7	94.2	94.7	95.1
			5	91.2	92.1	92.5	92.9	93.4	94.1	94.6	95.1	95.5	96
			10	92	92.9	93.4	93.8	94.2	95	95.4	95.9	96.4	96.8
			15	92.8	93.7	94.2	94.6	95.1	95.8	96.3	96.8	97.2	97.5
			20	93.6	94.5	95	95.4	95.9	96.6	97.1	97.1	97	96.9
			25	94.4	95.3	95.8	96.2	96.5	96.7	96.6	96.6	96.5	96.4
			30	95.2	96.1	96.1	96	96	96.3	96.2	96.1	96	96
			35	95.2	95.6	95.6	95.6	95.5	95.7	95.7	95.7	95.6	95.5
			40	94.6	95.2	95.2	95.1	95	95.1	95.1	95.2	95.1	94.9
			45	94.2	94.7	94.7	94.6	94.6	94.6	94.7	94.4	94.2	94.9
			50	93.8	94.3	94.3	94.3	93.9	93.6	94.7	94.4	94.2	94.9
			55	93.2	93.8	93.8	93.8	93.9	93.6	94.7	94.4	94.2	94.9
                </tableData>
            </table>
        </function>

        <function name="/autopilot/settings/ga-n1">
            <description>Maximum N1 for Go-Around</description>
            <table>
                <independentVar lookup="row">/environment/temperature-degc</independentVar>
                <independentVar lookup="column">atmosphere/pressure-altitude</independentVar>
                <tableData>
				-1000	0	1000	2000	3000	4000	5000	6000	7000	8000
			-50	81.5	82.4	82.8	83.2	83.7	84.3	84.7	85.2	85.6	86
			-40	83.3	84.2	84.7	85.1	85.5	86.2	86.6	87.1	87.5	87.9
			-30	85.1	86	86.5	86.9	87.3	88	88.5	89	89.4	89.8
			-20	86.8	87.8	88.2	88.6	89.1	89.8	90.3	90.8	91.2	91.6
			-10	88.5	89.5	90	90.4	90.8	91.5	92	92.5	93	93.4
			0	90.3	91.2	91.7	92.1	92.6	93.3	93.7	94.3	94.7	95.2
			5	91.1	92	92.5	92.9	93.4	94.1	94.6	95.1	95.6	96.1
			10	91.9	92.8	93.3	93.7	94.2	95	95.4	96	96.4	96.9
			15	92.7	93.7	94.1	94.6	95.1	95.8	96.3	96.8	97.3	97.5
			20	93.5	94.5	95	95.4	95.9	96.6	97.1	97.2	97	96.9
			25	94.3	95.3	95.8	96.2	96.5	96.7	96.7	96.6	96.5	96.5
			30	95.1	96.1	96.1	96	96	96.3	96.2	96.2	96.1	96
			35	95.1	95.5	95.6	95.5	95.5	95.7	95.7	95.7	95.6	95.6
			40	94.5	95.1	95.1	95.1	95	95.1	95.1	95.2	95.1	95
			45	94.1	94.7	94.6	94.6	94.6	94.6	94.7	94.8	94.6	94.6
			50	93.7	94.2	94.2	94.2	94.2	94.2	94.2	94.2	94.2	94.2
			55	93.1	93.9	93.9	93.9	93.9	93.9	93.9	93.9	93.9	93.9
                </tableData>
            </table>
        </function>

        <function name="/b733/flaps-min-retr-speed">
            <description>Minimum flaps retraction speed (F on speedtape)</description>
            <table>
                <independentVar lookup="row">fcs/flap-pos-norm</independentVar>
                <independentVar lookup="column">inertia/weight-lbs</independentVar>
                <tableData>
				117000	138500
			0	210	230
			0.025	190	210
			0.125	170	190
			0.25	160	180
			0.375	150	170
                </tableData>
            </table>
        </function>

        <function name="/engines/engine[0]/reverse-thrust-lbs">
            <description>Reverse thrust calculation</description>
            <table>
                <independentVar lookup="row">propulsion/engine[0]/n1</independentVar>
                <independentVar lookup="column">velocities/vtrue-kts</independentVar>
                <tableData>
				0		50		100		150
			20	-178.708	-590.783	-1118.65	-2031.77
			30	-444.947	-879.934	-1646.63	-2614
			40	-741.936	-1362.52	-2252.83	-3437.6
			50	-1039.37	-1886.22	-2985.17	-4263.13
			60	-1399.4		-2503.74	-3764.42	-5224.55
			70	-1791.48	-3121.25	-4560.77	-6197.11
			80	-2210.91	-3749.68	-5357.11	-7194.32
			90	-2664.33	-4419.46	-6153.45	-8191.53
                </tableData>
            </table>
        </function>

        <function name="/engines/engine[1]/reverse-thrust-lbs">
            <description>Reverse thrust calculation</description>
            <table>
                <independentVar lookup="row">propulsion/engine[1]/n1</independentVar>
                <independentVar lookup="column">velocities/vtrue-kts</independentVar>
                <tableData>
				0		50		100		150
			20	-178.708	-590.783	-1118.65	-2031.77
			30	-444.947	-879.934	-1646.63	-2614
			40	-741.936	-1362.52	-2252.83	-3437.6
			50	-1039.37	-1886.22	-2985.17	-4263.13
			60	-1399.4		-2503.74	-3764.42	-5224.55
			70	-1791.48	-3121.25	-4560.77	-6197.11
			80	-2210.91	-3749.68	-5357.11	-7194.32
			90	-2664.33	-4419.46	-6153.45	-8191.53
                </tableData>
            </table>
        </function>

        <function name="/instrumentation/fmc/v-ref-15">
            <description>Vref calculation for flaps 15</description>
            <product>
                  <table>
                      <independentVar>inertia/weight-lbs</independentVar>
                      <tableData>
			77160	119
			88183	128
			99206	136
			110229	144
			121252	151
			132275	158
			143298	165
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="/instrumentation/fmc/v-ref-30">
            <description>Vref calculation for flaps 30</description>
            <product>
                  <table>
                      <independentVar>inertia/weight-lbs</independentVar>
                      <tableData>
			77160	111
			88183	119
			99206	127
			110229	134
			121252	141
			132275	147
			143298	154
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="/instrumentation/fmc/v-ref-40">
            <description>Vref calculation for flaps 40</description>
            <product>
                  <table>
                      <independentVar>inertia/weight-lbs</independentVar>
                      <tableData>
			77160	107
			88183	115
			99206	123
			110229	131
			121252	138
			132275	146
			143298	153
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	0.4800
                          0.1000	0.5150
                          0.1500	0.6290
                          0.2000	0.7090
                          0.3000	0.8150
                          0.4000	0.8820
                          0.5000	0.9280
                          0.6000	0.9620
                          0.7000	0.9880
                          0.8000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	1.2030
                          0.1000	1.1270
                          0.1500	1.0900
                          0.2000	1.0730
                          0.3000	1.0460
                          0.4000	1.0550
                          0.5000	1.0190
                          0.6000	1.0130
                          0.7000	1.0080
                          0.8000	1.0060
                          0.9000	1.0030
                          1.0000	1.0020
                          1.1000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="aero/function/kCLsb">
            <description>Change_in_lift_due_to_speed_brake</description>
            <product>
                  <table>
                      <independentVar>fcs/speedbrake-pos-norm</independentVar>
                      <tableData>
                          0.0000	1.0
                          1.0000	0.85
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="aero/function/kCLsp">
            <description>Change_in_lift_due_to_spoilers</description>
            <product>
                  <table>
                      <independentVar>fcs/spoiler-pos-norm</independentVar>
                      <tableData>
                          0.0000	1.0
                          1.0000	0.6
                      </tableData>
                  </table>
            </product>
        </function>

        <axis name="DRAG">

            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.57	1.5000
                             -0.60	0.0420
                              0.00	0.0210
                              0.33	0.0210
                              0.60      0.0480
                              1.57	1.5000
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <property>aero/function/kCDge</property>
                    <table>
                       <independentVar>fcs/flap-pos-norm</independentVar> <!-- Data taken from book, Oswald efficiency factor depends on flap setting -->
                       <tableData>
                          0	0.046329
                          1	0.040403
                       </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar> <!-- Data taken from book "Aerodynamic design of transport aircraft", but recalculated to match QRH -->
                          <tableData>
				0	0
				0.62	0
				0.64	0.0001
				0.66	0.0002
				0.68	0.0006
				0.7	0.001
				0.72	0.0025
				0.74	0.0041
				0.76	0.01
				0.78	0.02
				0.8	0.042
				0.82	0.065
				0.84	0.087
				0.86	0.11
				0.88	0.132
				0.9	0.155
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0653</value>
                </product>
            </function>

            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.033</value>
                </product>
            </function>

            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_flight_spoilers</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0178</value> <!-- Calculated from FCTM -->
                </product>
            </function>

            <function name="aero/coefficient/CDsp">
                <description>Drag_due_to_ground_spoilers</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <value>0.05</value>
                </product>
            </function>

            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                             -1.57	1.2300
                             -0.26	0.0500
                              0.00	0.0000
                              0.26	0.0500
                              1.57	1.2300
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_and_Stabilizer_Deflection</description>
                <product>
                   <sum>
                     <abs><property>aero/function/elevator-force</property></abs>
                     <abs><property>aero/function/stabilizer-force</property></abs>
                   </sum>
                   <value>0.08333</value>
                </product>
            </function>

        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.670158</value>   <!-- Data taken from datcom comparison. Original here was -1 -->
                </product>
            </function>
            <function name="aero/coefficient/Cyp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.1004</value>   <!-- Data taken from datcom comparison. Original was not presented here -->
                </product>
            </function>
        </axis>

        <axis name="LIFT">

            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
		
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <property>aero/function/kCLsb</property>
                    <property>aero/function/kCLsp</property>
		    
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
			
                          <tableData>
                             -0.1745329252	-0.89
			      0.2617993878	1.61
			      0.2792526803	1.68
			      0.2967059728	1.72
			      0.3141592654	1.68
			      0.3316125579	1.47
			      0.3490658504	1.42
			      0.3665191429	1.33
                              0.46		1
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <property>aero/function/kCLsb</property>
                    <property>aero/function/kCLsp</property>
                    <table>
                      <independentVar>fcs/flap-pos-norm</independentVar>
                      <tableData>
			0	0
			0.025	0.08
			0.125	0.245
			0.375	0.518
			0.750	0.996
			1	1.248
                      </tableData>
                    </table>
                </product>
            </function>

        </axis>

        <axis name="ROLL">

            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.066931</value>   <!-- Data taken from datcom comparison. Original here was -0.09 -->
                </product>
            </function>

            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.556338</value>   <!-- Data taken from datcom comparison. Original here was -0.4 -->
                </product>
            </function>

            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.149231</value>   <!-- Data taken from datcom comparison. Original here was 0.09 -->
                </product>
            </function>

            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <!--<property>metrics/roll</property>-->
                      <table>
			<independentVar lookup="row">fcs/flap-pos-norm</independentVar> <!-- Calculated from flight test data -->
			<independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                                        0.25    0.85
                              0.0	0.17    0.11
                              0.375	0.11    0.06
                              1.0	0.35    0.18
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.01</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.8436</value> <!-- Data taken from datcom comparison. Original here was -0.6 -->
                </product>
            </function>
            <!--<function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.4	-1.20
                              2.0	-0.30
                          </tableData>
                      </table>
                </product>
            </function>-->

            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-11.0</value> <!-- Data taken from datcom comparison. Original here was -27 -->
                </product>
            </function>

            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-18.06</value>  <!-- Data taken from datcom comparison. Original here was -16 -->
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.099226</value>  <!-- Data taken from datcom comparison. Original here was 0.26 -->
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.062892</value>   <!-- Data taken from datcom comparison. Original here was -0.35 -->
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.034969</value>   <!-- Data taken from datcom comparison. Original was not presented here -->
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.065</value> <!-- Data guessed from NTSB report about flight UAL585 -->
                </product>
            </function>
        </axis>
    </aerodynamics>
    
<!--
    <output name="B737_datalog.csv" rate="20" type="CSV">
        <property> aero/qbar-psf </property>
        <property> attitude/phi-rad </property>
        <property> position/h-sl-ft </property>
        <property> velocities/vc-kts </property>
        <property> fcs/throttle-cmd-norm </property>
        <property> fcs/elevator-pos-norm </property>
        <rates> ON </rates>
        <velocities> ON </velocities>
        <forces> ON </forces>
        <moments> ON </moments>
        <position> ON </position>
        <propulsion> ON </propulsion>
        <aerosurfaces> OFF </aerosurfaces>
        <fcs> OFF </fcs>
        <ground_reactions> ON </ground_reactions>
    </output>
-->
</fdm_config>

