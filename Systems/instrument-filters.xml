<PropertyList>

<!-- Helper for smooth slip-skid indication -->
<filter n="10001">
  <name>slip-skid-filter</name>	
  <debug>false</debug>
  <feedback-if-disabled>true</feedback-if-disabled>
  <type>noise-spike</type>
  <max-rate-of-change>3</max-rate-of-change>
  <input>/fdm/jsbsim/instrumentation/slip-skid-indicator/slip-skid-deg</input>
  <output>
    <prop>instrumentation/slip-skid-indicator/slip-skid-deg-filtered</prop>
  </output>
</filter>

<filter n="10002">
   <type>gain</type>
   <input>
     <property>/instrumentation/airspeed-indicator/indicated-speed-kt</property>
     <min>45</min>
     <max>1000</max>
   </input>
   <gain>1</gain>
   <output>/instrumentation/airspeed-indicator/indicated-speed-numbers-kt</output>
</filter>

<filter n="10003">
  <type>gain</type>
  <gain>1</gain>
  <input>
    <expression>
      <abs>
        <dif>
          <property>/instrumentation/altimeter/indicated-altitude-ft</property>
          <property>/autopilot/settings/target-altitude-ft</property>
        </dif>
      </abs>
    </expression> 
  </input>
  <output>
    <prop>/b733/helpers/alt-diff-ft</prop>
  </output>
</filter>

 <logic n="10004">
   <input>
     <and>
       <greater-than>
         <property>/b733/helpers/alt-diff-ft</property>
         <value>300</value>
       </greater-than>
       <less-than>
         <property>/b733/helpers/alt-diff-ft</property>
         <value>900</value>
       </less-than>
       <less-than>
         <property>/fdm/jsbsim/fcs/flap-pos-norm</property>
         <value>0.75</value>
       </less-than>
     </and>
   </input>
   <output>/b733/sound/alt-acq</output>
 </logic>

<filter n="10005">
  <type>gain</type>
  <gain>-4235</gain> <!-- How many revolutions TRIM WHEEL made by 17 unit of stabilizer? Currently set to 200 turns-->
  <input>
    <property>/fdm/jsbsim/fcs/stabilizer-pos-unit</property>
  </input>
  <output>
    <property>/b733/helpers/trim-wheel-abs-pos</property>
  </output>
</filter>

<filter n="10006">
  <type>gain</type>
  <gain>1</gain>
  <input>
    <expression>
      <product>
        <mod>
          <property>/b733/helpers/trim-wheel-abs-pos</property>
          <value>360</value>
        </mod>
        <value>-0.002777777777777777777777</value>
      </product>
    </expression>
  </input>
  <output>
    <prop>/b733/helpers/trim-wheel-pos</prop>
  </output>
</filter>

 <logic n="10007">
   <input>
     <and>
       <greater-than>
         <property>/b733/helpers/trim-wheel-pos</property>
         <value>0.1</value>
       </greater-than>
       <less-than>
         <property>/b733/helpers/trim-wheel-pos</property>
         <value>0.9</value>
       </less-than>
     </and>
   </input>
   <output>/b733/sound/stab-trim</output>
 </logic>

</PropertyList>
